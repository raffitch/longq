from pydantic import BaseModel
from typing import Optional, Literal, Any

class SessionCreate(BaseModel):
    client_name: str

class SessionOut(BaseModel):
    id: int
    code: str
    client_name: str
    state: Literal["CREATED","INGESTING","VALIDATING","PARSING","READY","PUBLISHED","CLOSED"]
    published: bool

class PublishRequest(BaseModel):
    publish: bool = True

class BannerOut(BaseModel):
    message: str

class FileOut(BaseModel):
    id: int
    kind: str
    filename: str
    status: str
    error: Optional[str] = None

class ParsedOut(BaseModel):
    session_id: int
    kind: str
    data: Any
