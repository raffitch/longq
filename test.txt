ANN001 Missing type annotation for function argument `call_next`
   --> backend/app.py:297:46
    |
296 | @app.middleware("http")
297 | async def _auth_middleware(request: Request, call_next):
    |                                              ^^^^^^^^^
298 |     if request.url.path in _PUBLIC_HTTP_PATHS:
299 |         return await call_next(request)
    |

ANN001 Missing type annotation for function argument `callback`
   --> backend/app.py:431:18
    |
431 | def _run_in_loop(callback, *args) -> None:
    |                  ^^^^^^^^
432 |     global _event_loop
433 |     try:
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:657:44
    |
655 | # ----------------- Sessions -----------------
656 | @app.post("/sessions", response_model=SessionOut)
657 | def create_session(payload: SessionCreate, db=Depends(get_session)):
    |                                            ^^
658 |     first = _canonicalize_name_part(payload.first_name)
659 |     last = _canonicalize_name_part(payload.last_name)
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:693:19
    |
692 | @app.get("/sessions", response_model=list[SessionOut])
693 | def list_sessions(db=Depends(get_session)):
    |                   ^^
694 |     rows = db.exec(select(SessionRow).order_by(SessionRow.id.desc())).all()
695 |     return [
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:712:41
    |
711 | @app.get("/sessions/{session_id}", response_model=SessionOut)
712 | def get_session_status(session_id: int, db=Depends(get_session)):
    |                                         ^^
713 |     s = db.get(SessionRow, session_id)
714 |     if not s:
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:730:61
    |
729 | @app.patch("/sessions/{session_id}", response_model=SessionOut)
730 | def update_session(session_id: int, payload: SessionUpdate, db=Depends(get_session)):
    |                                                             ^^
731 |     s = db.get(SessionRow, session_id)
732 |     if not s:
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:789:29
    |
787 | # Greet immediately
788 | @app.get("/sessions/{session_id}/banner", response_model=BannerOut)
789 | def banner(session_id: int, db=Depends(get_session)):
    |                             ^^
790 |     s = db.get(SessionRow, session_id)
791 |     if not s:
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:803:5
    |
801 |     kind: str,
802 |     file: UploadFile = File(...),
803 |     db=Depends(get_session),
    |     ^^
804 | ):
805 |     s = db.get(SessionRow, session_id)
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:882:34
    |
881 | @app.post("/files/{file_id}/parse", response_model=ParsedOut)
882 | def parse_uploaded(file_id: int, db=Depends(get_session)):
    |                                  ^^
883 |     fr = db.get(FileRow, file_id)
884 |     if not fr:
    |

ANN001 Missing type annotation for function argument `db`
   --> backend/app.py:971:57
    |
970 | @app.post("/sessions/{session_id}/publish")
971 | async def publish(session_id: int, req: PublishRequest, db=Depends(get_session)):
    |                                                         ^^
972 |     s = db.get(SessionRow, session_id)
973 |     if not s:
    |

ANN001 Missing type annotation for function argument `db`
    --> backend/app.py:1007:44
     |
1005 | # Strict publish gate
1006 | @app.get("/sessions/{session_id}/parsed/{kind}", response_model=ParsedOut)
1007 | def get_parsed(session_id: int, kind: str, db=Depends(get_session)):
     |                                            ^^
1008 |     s = db.get(SessionRow, session_id)
1009 |     if not s:
     |

ANN001 Missing type annotation for function argument `db`
    --> backend/app.py:1022:40
     |
1021 | @app.get("/sessions/{session_id}/parsed", response_model=ParsedBundleOut)
1022 | def get_parsed_bundle(session_id: int, db=Depends(get_session)):
     |                                        ^^
1023 |     s = db.get(SessionRow, session_id)
1024 |     if not s:
     |

ANN001 Missing type annotation for function argument `db`
    --> backend/app.py:1036:21
     |
1034 | # ----------------- Guest display binding -----------------
1035 | @app.get("/display/current", response_model=DisplayOut)
1036 | def display_current(db=Depends(get_session)):
     |                     ^^
1037 |     d = db.exec(select(DisplayRow).where(DisplayRow.code == "main")).first()
1038 |     if not d or not d.current_session_id:
     |

ANN001 Missing type annotation for function argument `db`
    --> backend/app.py:1073:40
     |
1072 | @app.post("/display/current")
1073 | async def display_set(req: DisplaySet, db=Depends(get_session)):
     |                                        ^^
1074 |     d = db.exec(select(DisplayRow).where(DisplayRow.code == "main")).first()
1075 |     if not d:
     |

ANN001 Missing type annotation for function argument `db`
    --> backend/app.py:1106:36
     |
1105 | @app.post("/sessions/{session_id}/close")
1106 | def close_session(session_id: int, db=Depends(get_session)):
     |                                    ^^
1107 |     s = db.get(SessionRow, session_id)
1108 |     if not s:
     |

ANN001 Missing type annotation for function argument `spans`
  --> backend/parse_food_pdf.py:81:19
   |
81 | def cluster_lines(spans, y_tol=Y_LINE_TOL):
   |                   ^^^^^
82 |     lines = []
83 |     for sp in spans:
   |

ANN001 Missing type annotation for function argument `y_tol`
  --> backend/parse_food_pdf.py:81:26
   |
81 | def cluster_lines(spans, y_tol=Y_LINE_TOL):
   |                          ^^^^^
82 |     lines = []
83 |     for sp in spans:
   |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:99:22
    |
 99 | def find_total_lines(lines):
    |                      ^^^^^
100 |     totals = []
101 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:112:20
    |
112 | def detect_headers(lines):
    |                    ^^^^^
113 |     allowed = set(CATEGORY_NAMES)
114 |     headers = []
    |

ANN001 Missing type annotation for function argument `headers`
   --> backend/parse_food_pdf.py:124:29
    |
124 | def group_headers_into_rows(headers):
    |                             ^^^^^^^
125 |     rows = []
126 |     for h in headers:
    |

ANN001 Missing type annotation for function argument `rows`
   --> backend/parse_food_pdf.py:142:21
    |
142 | def build_row_boxes(rows, page_w: float):
    |                     ^^^^
143 |     boxes = {}
144 |     for row in rows:
    |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:166:24
    |
166 | def find_footer_page_y(lines, page_height: float) -> float:
    |                        ^^^^^
167 |     for ln in reversed(lines):
168 |         txt = " ".join(s["t"] for s in ln).strip().lower()
    |

ANN001 Missing type annotation for function argument `a0`
   --> backend/parse_food_pdf.py:177:17
    |
177 | def intersect_x(a0, a1, b0, b1) -> float:
    |                 ^^
178 |     return max(0.0, min(a1, b1) - max(a0, b0))
    |

ANN001 Missing type annotation for function argument `a1`
   --> backend/parse_food_pdf.py:177:21
    |
177 | def intersect_x(a0, a1, b0, b1) -> float:
    |                     ^^
178 |     return max(0.0, min(a1, b1) - max(a0, b0))
    |

ANN001 Missing type annotation for function argument `b0`
   --> backend/parse_food_pdf.py:177:25
    |
177 | def intersect_x(a0, a1, b0, b1) -> float:
    |                         ^^
178 |     return max(0.0, min(a1, b1) - max(a0, b0))
    |

ANN001 Missing type annotation for function argument `b1`
   --> backend/parse_food_pdf.py:177:29
    |
177 | def intersect_x(a0, a1, b0, b1) -> float:
    |                             ^^
178 |     return max(0.0, min(a1, b1) - max(a0, b0))
    |

ANN001 Missing type annotation for function argument `cat_boxes`
   --> backend/parse_food_pdf.py:181:26
    |
181 | def clamp_y1_with_totals(cat_boxes, totals):
    |                          ^^^^^^^^^
182 |     new = {}
183 |     for name, (y0, _, x0, x1) in cat_boxes.items():
    |

ANN001 Missing type annotation for function argument `totals`
   --> backend/parse_food_pdf.py:181:37
    |
181 | def clamp_y1_with_totals(cat_boxes, totals):
    |                                     ^^^^^^
182 |     new = {}
183 |     for name, (y0, _, x0, x1) in cat_boxes.items():
    |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:195:24
    |
195 | def find_scores_in_box(lines, x0, x1, y0, y1):
    |                        ^^^^^
196 |     scores = []
197 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `x0`
   --> backend/parse_food_pdf.py:195:31
    |
195 | def find_scores_in_box(lines, x0, x1, y0, y1):
    |                               ^^
196 |     scores = []
197 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `x1`
   --> backend/parse_food_pdf.py:195:35
    |
195 | def find_scores_in_box(lines, x0, x1, y0, y1):
    |                                   ^^
196 |     scores = []
197 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `y0`
   --> backend/parse_food_pdf.py:195:39
    |
195 | def find_scores_in_box(lines, x0, x1, y0, y1):
    |                                       ^^
196 |     scores = []
197 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `y1`
   --> backend/parse_food_pdf.py:195:43
    |
195 | def find_scores_in_box(lines, x0, x1, y0, y1):
    |                                           ^^
196 |     scores = []
197 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `scores`
   --> backend/parse_food_pdf.py:211:24
    |
211 | def cluster_score_rows(scores, tol=ROW_CLUSTER_TOL):
    |                        ^^^^^^
212 |     rows = []
213 |     for sc in scores:
    |

ANN001 Missing type annotation for function argument `tol`
   --> backend/parse_food_pdf.py:211:32
    |
211 | def cluster_score_rows(scores, tol=ROW_CLUSTER_TOL):
    |                                ^^^
212 |     rows = []
213 |     for sc in scores:
    |

ANN001 Missing type annotation for function argument `row_centers`
   --> backend/parse_food_pdf.py:229:21
    |
229 | def build_row_bands(row_centers, cat_y0, cat_y1):
    |                     ^^^^^^^^^^^
230 |     bands = []
231 |     if not row_centers:
    |

ANN001 Missing type annotation for function argument `cat_y0`
   --> backend/parse_food_pdf.py:229:34
    |
229 | def build_row_bands(row_centers, cat_y0, cat_y1):
    |                                  ^^^^^^
230 |     bands = []
231 |     if not row_centers:
    |

ANN001 Missing type annotation for function argument `cat_y1`
   --> backend/parse_food_pdf.py:229:42
    |
229 | def build_row_bands(row_centers, cat_y0, cat_y1):
    |                                          ^^^^^^
230 |     bands = []
231 |     if not row_centers:
    |

ANN001 Missing type annotation for function argument `parts`
   --> backend/parse_food_pdf.py:242:16
    |
242 | def smart_join(parts):
    |                ^^^^^
243 |     if not parts:
244 |         return ""
    |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:262:26
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                          ^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `y_top`
   --> backend/parse_food_pdf.py:262:33
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                                 ^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `y_bot`
   --> backend/parse_food_pdf.py:262:40
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                                        ^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `x_left`
   --> backend/parse_food_pdf.py:262:47
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                                               ^^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `x_right`
   --> backend/parse_food_pdf.py:262:55
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                                                       ^^^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `expected_set`
   --> backend/parse_food_pdf.py:262:64
    |
262 | def collect_label_window(lines, y_top, y_bot, x_left, x_right, expected_set):
    |                                                                ^^^^^^^^^^^^
263 |     parts = []
264 |     for ln in lines:
    |

ANN001 Missing type annotation for function argument `values`
   --> backend/parse_food_pdf.py:280:15
    |
280 | def quantiles(values, qs):
    |               ^^^^^^
281 |     if not values:
282 |         return [0.0] * len(qs)
    |

ANN001 Missing type annotation for function argument `qs`
   --> backend/parse_food_pdf.py:280:23
    |
280 | def quantiles(values, qs):
    |                       ^^
281 |     if not values:
282 |         return [0.0] * len(qs)
    |

ANN001 Missing type annotation for function argument `xs`
   --> backend/parse_food_pdf.py:291:21
    |
291 | def kmeans1d_median(xs, k=4, iters=20):
    |                     ^^
292 |     if not xs:
293 |         return []
    |

ANN001 Missing type annotation for function argument `k`
   --> backend/parse_food_pdf.py:291:25
    |
291 | def kmeans1d_median(xs, k=4, iters=20):
    |                         ^
292 |     if not xs:
293 |         return []
    |

ANN001 Missing type annotation for function argument `iters`
   --> backend/parse_food_pdf.py:291:30
    |
291 | def kmeans1d_median(xs, k=4, iters=20):
    |                              ^^^^^
292 |     if not xs:
293 |         return []
    |

ANN001 Missing type annotation for function argument `lines`
   --> backend/parse_food_pdf.py:314:22
    |
314 | def header_has_items(lines, header, page_w: float, header_row, all_headers):
    |                      ^^^^^
315 |     row = sorted(header_row, key=lambda r: r["x0"])
316 |     if len(row) == 1:
    |

ANN001 Missing type annotation for function argument `header`
   --> backend/parse_food_pdf.py:314:29
    |
314 | def header_has_items(lines, header, page_w: float, header_row, all_headers):
    |                             ^^^^^^
315 |     row = sorted(header_row, key=lambda r: r["x0"])
316 |     if len(row) == 1:
    |

ANN001 Missing type annotation for function argument `header_row`
   --> backend/parse_food_pdf.py:314:52
    |
314 | def header_has_items(lines, header, page_w: float, header_row, all_headers):
    |                                                    ^^^^^^^^^^
315 |     row = sorted(header_row, key=lambda r: r["x0"])
316 |     if len(row) == 1:
    |

ANN001 Missing type annotation for function argument `all_headers`
   --> backend/parse_food_pdf.py:314:64
    |
314 | def header_has_items(lines, header, page_w: float, header_row, all_headers):
    |                                                                ^^^^^^^^^^^
315 |     row = sorted(header_row, key=lambda r: r["x0"])
316 |     if len(row) == 1:
    |

ANN001 Missing type annotation for function argument `items_xy`
   --> backend/parse_food_pdf.py:340:23
    |
340 | def decide_order_mode(items_xy, row_groups):
    |                       ^^^^^^^^
341 |     if not items_xy:
342 |         return "row"
    |

ANN001 Missing type annotation for function argument `row_groups`
   --> backend/parse_food_pdf.py:340:33
    |
340 | def decide_order_mode(items_xy, row_groups):
    |                                 ^^^^^^^^^^
341 |     if not items_xy:
342 |         return "row"
    |

ANN001 Missing type annotation for function argument `x`
   --> backend/parse_food_pdf.py:346:17
    |
344 |     centers = kmeans1d_median(xs, k=4, iters=25)
345 |
346 |     def col_idx(x):
    |                 ^
347 |         return min(range(len(centers)), key=lambda i: abs(x - centers[i]))
    |

ANN001 Missing type annotation for function argument `x`
   --> backend/parse_food_pdf.py:489:35
    |
487 |                     centers = kmeans1d_median(xs_all, k=4, iters=25)
488 |
489 |                     def col_index(x):
    |                                   ^
490 |                         return min(range(len(centers)), key=lambda i: abs(x - centers[i]))
    |

ANN001 Missing type annotation for function argument `ry`
   --> backend/parse_food_pdf.py:494:35
    |
492 |                     uniq_rows = sorted({round(v, 2) for v in (it["_ry"] for it in tmp)})
493 |
494 |                     def row_index(ry):
    |                                   ^^
495 |                         return min(range(len(uniq_rows)), key=lambda i: abs(ry - uniq_rows[i]))
    |

ANN001 Missing type annotation for function argument `fileobj`
 --> backend/storage.py:7:45
  |
7 | def save_upload(session_id: int, kind: str, fileobj) -> bytes:
  |                                             ^^^^^^^
8 |     """Store the uploaded PDF bytes in memory and return the raw payload."""
9 |     data = fileobj.read()
  |

ANN001 Missing type annotation for function argument `monkeypatch`
  --> backend/tests/test_idle_shutdown.py:15:20
   |
14 | @pytest_asyncio.fixture
15 | async def idle_app(monkeypatch):
   |                    ^^^^^^^^^^^
16 |     monkeypatch.setenv("EXIT_WHEN_IDLE", "true")
17 |     monkeypatch.setenv("EXIT_IDLE_DEBOUNCE_SEC", "0.05")
   |

ANN001 Missing type annotation for function argument `idle_app`
  --> backend/tests/test_idle_shutdown.py:37:54
   |
36 | @pytest.mark.asyncio
37 | async def test_idle_shutdown_triggers_after_debounce(idle_app):
   |                                                      ^^^^^^^^
38 |     idle_app.operator_clients.clear()
39 |     idle_app.guest_clients.clear()
   |

ANN001 Missing type annotation for function argument `idle_app`
  --> backend/tests/test_idle_shutdown.py:48:60
   |
47 | @pytest.mark.asyncio
48 | async def test_idle_shutdown_cancelled_when_client_returns(idle_app):
   |                                                            ^^^^^^^^
49 |     idle_app.operator_clients.clear()
50 |     idle_app.guest_clients.clear()
   |

ANN001 Missing type annotation for function argument `idle_app`
  --> backend/tests/test_idle_shutdown.py:61:52
   |
60 | @pytest.mark.asyncio
61 | async def test_idle_shutdown_waits_for_active_jobs(idle_app):
   |                                                    ^^^^^^^^
62 |     idle_app.operator_clients.clear()
63 |     idle_app.guest_clients.clear()
   |

ANN001 Missing type annotation for function argument `monkeypatch`
  --> backend/tests/test_session_retention.py:21:21
   |
20 | @pytest.fixture(autouse=True)
21 | def _reset_app_root(monkeypatch, tmp_path):
   |                     ^^^^^^^^^^^
22 |     monkeypatch.setenv("LONGQ_ROOT", str(tmp_path))
23 |     app_root.cache_clear()
   |

ANN001 Missing type annotation for function argument `tmp_path`
  --> backend/tests/test_session_retention.py:21:34
   |
20 | @pytest.fixture(autouse=True)
21 | def _reset_app_root(monkeypatch, tmp_path):
   |                                  ^^^^^^^^
22 |     monkeypatch.setenv("LONGQ_ROOT", str(tmp_path))
23 |     app_root.cache_clear()
   |

ANN001 Missing type annotation for function argument `monkeypatch`
  --> backend/tests/test_session_retention.py:36:59
   |
36 | def test_purge_session_directories_respects_age_threshold(monkeypatch):
   |                                                           ^^^^^^^^^^^
37 |     threshold = 2.0
38 |     older = _touch_session("old", age_hours=threshold + 1)
   |

ANN001 Missing type annotation for function argument `monkeypatch`
  --> backend/tests/test_session_retention.py:50:52
   |
50 | def test_default_retention_hours_uses_env_override(monkeypatch):
   |                                                    ^^^^^^^^^^^
51 |     baseline = session_fs.default_session_retention_hours()
52 |     monkeypatch.setenv("SESSION_FILE_RETENTION_HOURS", "12")
   |

Found 68 errors.
ANN201 Missing return type annotation for public function `lifespan`
   --> backend/app.py:266:11
    |
265 | @asynccontextmanager
266 | async def lifespan(_: FastAPI):
    |           ^^^^^^^^
267 |     global _event_loop
268 |     _event_loop = asyncio.get_running_loop()
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `healthz`
   --> backend/app.py:311:11
    |
310 | @app.get("/healthz")
311 | async def healthz():
    |           ^^^^^^^
312 |     return {"status": "ok"}
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `metrics`
   --> backend/app.py:316:5
    |
315 | @app.get("/metrics")
316 | def metrics():
    |     ^^^^^^^
317 |     return Response(generate_latest(), media_type=CONTENT_TYPE_LATEST)
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `diagnostics`
   --> backend/app.py:332:5
    |
331 | @app.get("/diagnostics")
332 | def diagnostics(limit: int = 20):
    |     ^^^^^^^^^^^
333 |     limit = max(1, min(limit, DIAGNOSTICS_MAX_ENTRIES))
334 |     return {"entries": _recent_diagnostics(limit)}
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `ws_guest`
   --> backend/app.py:572:11
    |
571 | @app.websocket("/ws/guest")
572 | async def ws_guest(ws: WebSocket):
    |           ^^^^^^^^
573 |     if not await ensure_websocket_authorized(ws):
574 |         return
    |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `ws_operator`
   --> backend/app.py:594:11
    |
593 | @app.websocket("/ws/operator")
594 | async def ws_operator(ws: WebSocket):
    |           ^^^^^^^^^^^
595 |     if not await ensure_websocket_authorized(ws):
596 |         return
    |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `broadcast`
   --> backend/app.py:615:11
    |
615 | async def broadcast(event: dict):
    |           ^^^^^^^^^
616 |     """Send JSON event to all connected guest screens."""
617 |     dead = []
    |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `operator_window_open`
   --> backend/app.py:633:11
    |
631 | # ----------------- Operator window lifecycle -----------------
632 | @app.post("/operator/window-open")
633 | async def operator_window_open():
    |           ^^^^^^^^^^^^^^^^^^^^
634 |     global operator_window_count
635 |     with _operator_window_lock:
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `operator_window_closed`
   --> backend/app.py:644:11
    |
643 | @app.post("/operator/window-closed")
644 | async def operator_window_closed():
    |           ^^^^^^^^^^^^^^^^^^^^^^
645 |     global operator_window_count
646 |     with _operator_window_lock:
    |
help: Add return type annotation

ANN201 Missing return type annotation for public function `init_db`
  --> backend/db.py:23:5
   |
23 | def init_db():
   |     ^^^^^^^
24 |     if DB_URL:
25 |         SQLModel.metadata.create_all(engine)
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `get_session`
  --> backend/db.py:31:5
   |
31 | def get_session():
   |     ^^^^^^^^^^^
32 |     with Session(engine) as session:
33 |         yield session
   |
help: Add return type annotation

ANN201 Missing return type annotation for public function `main`
   --> backend/parse_food_pdf.py:560:5
    |
560 | def main():
    |     ^^^^
561 |     ap = argparse.ArgumentParser(description="Parse PDF â†’ JSON (v6g: per-category AUTO ordering).")
562 |     ap.add_argument("pdf")
    |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_tokenize_line_handles_arrows_and_chevrons`
  --> backend/tests/test_parse_peek_report.py:17:5
   |
17 | def test_tokenize_line_handles_arrows_and_chevrons():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
18 |     line = "Organs -> LI -> Large Intestine > 53"
19 |     assert _tokenize_line(line) == ["Organs", "LI", "Large Intestine", "53"]
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_tokenize_line_handles_table_delimiters`
  --> backend/tests/test_parse_peek_report.py:22:5
   |
22 | def test_tokenize_line_handles_table_delimiters():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 |     line = "Organs | KI | Kidneys | 48"
24 |     assert _tokenize_line(line) == ["Organs", "KI", "Kidneys", "48"]
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_parse_organ_tokens_returns_mapped_id_and_value`
  --> backend/tests/test_parse_peek_report.py:27:5
   |
27 | def test_parse_organ_tokens_returns_mapped_id_and_value():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |     tokens = ["Organs", "LI", "Large Intestine", "53"]
29 |     assert _parse_organ_tokens(tokens) == ("large_intestine", 53)
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_parse_organ_tokens_falls_back_to_single_token`
  --> backend/tests/test_parse_peek_report.py:32:5
   |
32 | def test_parse_organ_tokens_falls_back_to_single_token():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
33 |     tokens = ["Organs", "Pancreas", "41"]
34 |     assert _parse_organ_tokens(tokens) == ("pancreas_placeholder", 41)
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_parse_chakra_tokens_uses_numeric_mapping`
  --> backend/tests/test_parse_peek_report.py:37:5
   |
37 | def test_parse_chakra_tokens_uses_numeric_mapping():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
38 |     tokens = ["Chakra", "6", "Indigo", "81"]
39 |     chakra_id, value = _parse_chakra_tokens(tokens)
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_parse_special_metric_extracts_inflammatory_score`
  --> backend/tests/test_parse_peek_report.py:44:5
   |
44 | def test_parse_special_metric_extracts_inflammatory_score():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
45 |     tokens = ["Organs", "As", "Inflammatory score", "7 (Very Low)"]
46 |     source_line = "Organs -> As -> Inflammatory score > 7 (Very Low)"
   |
help: Add return type annotation: `None`

ANN201 Missing return type annotation for public function `test_parse_special_metric_extracts_immunal_defense`
  --> backend/tests/test_parse_peek_report.py:53:5
   |
53 | def test_parse_special_metric_extracts_immunal_defense():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
54 |     tokens = ["Organs", "Ai", "Immunal defense", "72 (Normal)"]
55 |     source_line = "Organs -> Ai -> Immunal defense > 72 (Normal)"
   |
help: Add return type annotation: `None`

Found 19 errors.
No fixes available (12 hidden fixes can be enabled with the `--unsafe-fixes` option).
